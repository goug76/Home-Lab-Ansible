# ===============================================================================
# ğŸ§  Goug's HomeLab Ansible Playbook
# -------------------------------------------------------------------------------
# ğŸ“¦ Playbook Name  : Reboot
# ğŸ—“ï¸ Run Schedule   : N/A
# ğŸ”§ Description    : Reboot mass devices
#
# ğŸ” Required Secure Variables (do NOT store in GitHub):
#   - NONE
#
# âœ… These must be provided via Ansible Vault, Semaphore Variables/Secrets, or CI/CD env vars.
# âŒ Never store actual values in this file or in version control.
#
# GitHub Repo  : https://github.com/goug76/Home-Lab-Ansible
# Maintainer   : John Goughenour
# ===============================================================================

---
- name: Reboot
  hosts: all
  become: true

  tasks:
    - name: Reboot system
      ansible.builtin.reboot:
        msg: "Reboot initiated by Goug's HomeLab Ansible playbook"
        pre_reboot_delay: 10          # Give services a moment to settle
        post_reboot_delay: 30         # Extra wait time after host is back
        reboot_timeout: 600           # Increase timeout for slower booting devices
        test_command: uptime          # Command to verify host is back